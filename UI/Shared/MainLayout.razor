@inherits LayoutComponentBase

<PageTitle>Ground Rent Portal</PageTitle>
<MudThemeProvider @bind-IsDarkMode="_isDarkMode" Theme="_theme" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
	<MudAppBar>
		Ground Rent Portal
	</MudAppBar>
	<MudDrawer Open="true">
		<MudLink Class="nav-link" Href="">
			Home
		</MudLink>
		<MudLink Class="nav-link" Href="processAddress">
			Process Address
		</MudLink>
	</MudDrawer>
	<MudMainContent>
		<LoginDisplay />
		@Body
	</MudMainContent>
</MudLayout>

@code {
	private MudTheme _theme = new();
	private bool _isDarkMode;
	private MudThemeProvider? _mudThemeProvider;

	MudTheme MainTheme = new MudTheme()
		{
			Palette = new Palette()
			{
				Primary = Colors.Grey.Default,
				Secondary = Colors.Shades.White,
			},
			PaletteDark = new PaletteDark()
			{
				Primary = Colors.Grey.Darken2,
				Secondary = Colors.Shades.White,
			},
			LayoutProperties = new LayoutProperties()
			{

			}
		};

	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		if (firstRender && _mudThemeProvider is not null)
		{
			_isDarkMode = await _mudThemeProvider.GetSystemPreference();
			StateHasChanged();
		}
	}
}